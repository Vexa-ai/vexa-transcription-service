
#not tested

FROM nvidia/cuda:12.3.0-runtime-ubuntu20.04

WORKDIR /usr/src/app
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update && apt-get install -y python3.9 python3-pip

RUN update-alternatives --install /usr/bin/python python /usr/bin/python3.9 1

RUN python -m pip install --upgrade pip

COPY  diarize_requirements.txt ./

RUN pip install --no-cache-dir -r diarize_requirements.txt